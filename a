áƒáƒ‘áƒ¡áƒáƒšáƒ£áƒ¢áƒ£áƒ áƒáƒ“ áƒ“áƒ”áƒ¢áƒáƒšáƒ£áƒ áƒáƒ“ áƒ’áƒáƒ’áƒ˜áƒ¬áƒ”áƒ  áƒáƒáƒ¡áƒ£áƒ®áƒ”áƒ‘áƒ¡, áƒ áƒáƒ’áƒáƒ áƒª áƒ—áƒ£ áƒ¡áƒáƒ¡áƒ¬áƒáƒ•áƒšáƒ áƒ›áƒáƒ¡áƒáƒšáƒ áƒ’áƒ˜áƒœáƒ“áƒ:

---

# âœ… 1. áƒ áƒ áƒáƒ áƒ˜áƒ¡ Infrastructure as Code (IaC)?

**Infrastructure as Code (IaC)** â€” áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ˜áƒœáƒ¤áƒ áƒáƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ˜áƒ¡ áƒ›áƒ”áƒ—áƒáƒ“áƒáƒšáƒáƒ’áƒ˜áƒ, áƒ¡áƒáƒ“áƒáƒª áƒ¡áƒ”áƒ áƒ•áƒ”áƒ áƒ”áƒ‘áƒ˜, áƒ¥áƒ¡áƒ”áƒšáƒ”áƒ‘áƒ˜, áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ—áƒ áƒ‘áƒáƒ–áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ¡áƒ®áƒ•áƒ áƒ™áƒáƒ›áƒáƒáƒœáƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜ áƒ˜áƒ¥áƒ›áƒœáƒ”áƒ‘áƒ áƒ“áƒ áƒ›áƒáƒ áƒ—áƒ”áƒ‘áƒ áƒ®áƒ“áƒ”áƒ‘áƒ áƒáƒ áƒáƒ’áƒ áƒáƒ›áƒ£áƒšáƒáƒ“ (áƒ™áƒáƒ“áƒ˜áƒ—) â€” áƒ˜áƒ¡áƒ”áƒ•áƒ” áƒ áƒáƒ’áƒáƒ áƒª áƒáƒáƒšáƒ˜áƒ™áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ™áƒáƒ“áƒ˜áƒ¡ áƒ¬áƒ”áƒ áƒ˜áƒ—.

**áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜:**
- áƒ˜áƒœáƒ¤áƒ áƒáƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ áƒáƒ¦áƒ¬áƒ”áƒ áƒ˜áƒšáƒ˜áƒ áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒáƒ“ (YAML, JSON, HCL áƒ“áƒ áƒ¡áƒ®áƒ•áƒ).
- áƒáƒ“áƒ•áƒ˜áƒšáƒáƒ“ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ áƒ•áƒ”áƒ áƒ¡áƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜ (Git-áƒ˜áƒ—).
- áƒáƒ£áƒ¢áƒáƒ›áƒáƒ¢áƒ˜áƒ–áƒáƒªáƒ˜áƒ: áƒ’áƒáƒ›áƒáƒ áƒ¢áƒ˜áƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜ deployment-áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜.
- áƒ áƒ”áƒáƒ áƒáƒ“áƒ£áƒªáƒ˜áƒ áƒ”áƒ‘áƒ: áƒ”áƒ áƒ—áƒ˜ áƒ“áƒ áƒ˜áƒ’áƒ˜áƒ•áƒ” áƒ˜áƒœáƒ¤áƒ áƒáƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ áƒ¨áƒ”áƒ’áƒ•áƒ˜áƒ«áƒšáƒ˜áƒ áƒ¡áƒ®áƒ•áƒáƒ“áƒáƒ¡áƒ®áƒ•áƒ áƒ’áƒáƒ áƒ”áƒ›áƒáƒ¨áƒ˜ áƒáƒ•áƒáƒ¬áƒ§áƒáƒ— (dev, staging, prod).

**áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒ˜ IaC áƒ˜áƒœáƒ¡áƒ¢áƒ áƒ£áƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜áƒ¡:**  
- AWS CloudFormation
- Terraform
- Pulumi
- Ansible (Configuration Management-áƒ˜áƒª)

---

# âœ… 2. áƒ áƒ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒáƒœáƒáƒšáƒ˜ áƒáƒ¥áƒ•áƒ¡ áƒ¤áƒ¡áƒ”áƒ•áƒ“áƒ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ¡ AWS CloudFormation-áƒ¨áƒ˜?

**áƒ¤áƒ¡áƒ”áƒ•áƒ“áƒ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜ (Pseudo Parameters)** â€” áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ¬áƒ˜áƒœáƒáƒ¡áƒ¬áƒáƒ  áƒ’áƒáƒœáƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒ£áƒšáƒ˜, áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒáƒ“ áƒ›áƒáƒ¬áƒáƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ£áƒ áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ—áƒ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ áƒ¨áƒ”áƒ’áƒ•áƒ˜áƒ«áƒšáƒ˜áƒ Template-áƒ˜áƒ¡ áƒ¨áƒ˜áƒ’áƒœáƒ˜áƒ—, áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ—áƒ˜ áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ”.

**áƒ¤áƒ¡áƒ”áƒ•áƒ“áƒ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜ áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒ”áƒ‘áƒ˜:**
| áƒ¤áƒ¡áƒ”áƒ•áƒ“áƒ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ˜ | áƒáƒ¦áƒ¬áƒ”áƒ áƒ |
|:----------------|:-------|
| **AWS::AccountId** | áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒáƒœáƒ’áƒáƒ áƒ˜áƒ¨áƒ˜áƒ¡ ID. |
| **AWS::Region** | áƒ áƒ”áƒ’áƒ˜áƒáƒœáƒ˜ áƒ¡áƒáƒ“áƒáƒª stack-áƒ˜ áƒ˜áƒ¨áƒ•áƒ”áƒ‘áƒ (áƒ›áƒáƒ’: `us-east-1`). |
| **AWS::StackName** | Stack-áƒ˜áƒ¡ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜. |
| **AWS::StackId** | Stack-áƒ˜áƒ¡ áƒ£áƒœáƒ˜áƒ™áƒáƒšáƒ£áƒ áƒ˜ ID. |
| **AWS::Partition** | Partition (aws, aws-cn, aws-us-gov). |
| **AWS::URLSuffix** | áƒ¡áƒáƒ¯áƒáƒ áƒ áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ DNS áƒ¡áƒ£áƒ¤áƒ˜áƒ¥áƒ¡áƒ˜ (áƒ›áƒáƒ’: `amazonaws.com`). |

> áƒ¤áƒ¡áƒ”áƒ•áƒ“áƒ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ›áƒáƒ¡áƒáƒ®áƒ”áƒ áƒ®áƒ”áƒ‘áƒ”áƒšáƒ˜áƒ áƒ£áƒœáƒ˜áƒ™áƒáƒšáƒ£áƒ áƒ˜ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ¡áƒáƒ’áƒ”áƒœáƒ”áƒ áƒ˜áƒ áƒ”áƒ‘áƒšáƒáƒ“!

---

# âœ… 3. áƒ©áƒáƒ›áƒáƒ¬áƒ”áƒ áƒ”áƒ— áƒ—áƒ¥áƒ•áƒ”áƒœáƒ—áƒ•áƒ˜áƒ¡ áƒªáƒœáƒáƒ‘áƒ˜áƒšáƒ˜ intrinsic áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜

**Intrinsic Functions** â€” áƒ¡áƒáƒ”áƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª CloudFormation áƒ¨áƒáƒ‘áƒšáƒáƒœáƒ¨áƒ˜ áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ áƒ“áƒ˜áƒœáƒáƒ›áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ¥áƒ›áƒœáƒ”áƒšáƒáƒ“.

**áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ intrinsic áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜:**

| áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ | áƒ“áƒáƒœáƒ˜áƒ¨áƒœáƒ£áƒšáƒ”áƒ‘áƒ |
|:--------|:------------|
| **Fn::Sub** | áƒ¡áƒ¢áƒ áƒ˜áƒ¥áƒáƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ©áƒáƒœáƒáƒªáƒ•áƒšáƒ”áƒ‘áƒ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜áƒ— (String substitution). |
| **Fn::Join** | áƒ¡áƒ¢áƒ áƒ˜áƒ¥áƒáƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ”áƒ áƒ—áƒ”áƒ‘áƒ áƒ¡áƒ”áƒáƒáƒ áƒáƒ¢áƒáƒ áƒ˜áƒ—. |
| **Fn::GetAtt** | áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ˜áƒ¡ áƒáƒ¢áƒ áƒ˜áƒ‘áƒ£áƒ¢áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ (áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒáƒ“, EC2-áƒ˜áƒ¡ Public IP). |
| **Fn::Ref** | áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ˜áƒ¡ áƒáƒœ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ˜áƒ¡ ID-áƒ˜áƒ¡ áƒáƒœ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ. |
| **Fn::If** | áƒáƒ˜áƒ áƒáƒ‘áƒ˜áƒ—áƒ˜ áƒšáƒáƒ’áƒ˜áƒ™áƒ (áƒ—áƒ£ áƒáƒ¡áƒ”áƒ, áƒ’áƒáƒáƒ™áƒ”áƒ—áƒ” áƒ”áƒ¡, áƒ—áƒáƒ áƒ”áƒ› áƒ˜áƒ¡). |
| **Fn::Equals**, **Fn::And**, **Fn::Or**, **Fn::Not** | áƒáƒ˜áƒ áƒáƒ‘áƒ˜áƒ—áƒ˜ áƒáƒáƒ”áƒ áƒáƒ¢áƒáƒ áƒ”áƒ‘áƒ˜. |
| **Fn::Select** | áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒáƒ›áƒáƒ¦áƒ”áƒ‘áƒ áƒ¡áƒ˜áƒ˜áƒ“áƒáƒœ áƒ˜áƒœáƒ“áƒ”áƒ¥áƒ¡áƒ˜áƒ¡ áƒ›áƒ˜áƒ®áƒ”áƒ“áƒ•áƒ˜áƒ—. |
| **Fn::Split** | áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜áƒ¡ áƒ’áƒáƒ§áƒáƒ¤áƒ áƒ¡áƒ˜áƒáƒ“. |
| **Fn::ImportValue** | áƒ¡áƒ®áƒ•áƒ Stack-áƒ˜áƒ“áƒáƒœ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ˜áƒ›áƒáƒáƒ áƒ¢áƒ˜. |
| **Fn::Base64** | Base64-áƒáƒ“ áƒ“áƒáƒ¨áƒ˜áƒ¤áƒ•áƒ áƒ (UserData-áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ®áƒ¨áƒ˜áƒ áƒáƒ“). |

---

# âœ… 4. áƒ áƒ áƒ›áƒáƒ®áƒ“áƒ”áƒ‘áƒ, áƒ—áƒ£ áƒ¬áƒáƒ•áƒ¨áƒšáƒ˜áƒ— áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ¨áƒ”áƒ˜áƒ¥áƒ›áƒœáƒ CloudFormation-áƒ˜áƒ— áƒ“áƒ áƒ•áƒªáƒ“áƒ˜áƒ— áƒ˜áƒ’áƒ˜áƒ•áƒ” Stack-áƒ˜áƒ¡ áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒáƒ¡?

**áƒáƒáƒ¡áƒ£áƒ®áƒ˜:**  
áƒ—áƒ£ áƒáƒ˜áƒ áƒ“áƒáƒáƒ˜áƒ  áƒ¬áƒáƒ¨áƒšáƒ˜áƒ— AWS-áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¡áƒáƒšáƒ˜áƒ“áƒáƒœ áƒáƒœ áƒ¡áƒ®áƒ•áƒ áƒ’áƒ–áƒ˜áƒ— (áƒáƒ áƒ CloudFormation-áƒ˜áƒ—), áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ Stack-áƒ˜áƒ¡ áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒ˜áƒ¡ (Update) áƒ›áƒªáƒ“áƒ”áƒšáƒáƒ‘áƒ˜áƒ¡áƒáƒ¡:

- **CloudFormation-áƒ˜** áƒáƒ›áƒáƒ˜áƒªáƒœáƒáƒ‘áƒ¡ áƒ áƒáƒ› áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ˜ áƒ¬áƒáƒ¨áƒšáƒ˜áƒšáƒ˜áƒ.
- áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒáƒ¡ áƒ“áƒáƒ’áƒ˜áƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ¡ **ROLLBACK_IN_PROGRESS** áƒáƒœ **UPDATE_FAILED** áƒ¡áƒ¢áƒáƒ¢áƒ£áƒ¡áƒ¡.
- Stack-áƒ˜áƒ¡ áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒ áƒ•áƒ”áƒ  áƒ¨áƒ”áƒ¡áƒ áƒ£áƒšáƒ“áƒ”áƒ‘áƒ, áƒ¡áƒáƒœáƒáƒ› áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ¡ áƒáƒ  áƒáƒ¦áƒáƒ“áƒ’áƒ”áƒœáƒ— áƒáƒœ Template-áƒ¡ áƒáƒ  áƒ›áƒáƒáƒ áƒ’áƒ”áƒ‘áƒ— áƒáƒ®áƒáƒš áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ¡.

**áƒ áƒ áƒ’áƒ–áƒ”áƒ‘áƒ˜áƒ áƒ’áƒáƒ›áƒáƒ¡áƒáƒ¡áƒ¬áƒáƒ áƒ”áƒ‘áƒšáƒáƒ“?**
- Manual Deletion Recovery â€” áƒáƒ¦áƒáƒ“áƒ’áƒ˜áƒœáƒáƒ— áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ˜ áƒ®áƒ”áƒšáƒ˜áƒ—.
- Modify Template â€” áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒáƒ— Template áƒ˜áƒ¡áƒ”, áƒ áƒáƒ› áƒáƒ¦áƒáƒ  áƒ›áƒáƒ˜áƒ—áƒ®áƒáƒ•áƒáƒ¡ áƒ¬áƒáƒ¨áƒšáƒ˜áƒšáƒ˜ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ˜.
- Stack Replace â€” áƒ¨áƒ”áƒ¥áƒ›áƒœáƒáƒ— áƒáƒ®áƒáƒšáƒ˜ Stack áƒ¡áƒ£áƒ¤áƒ—áƒ Template-áƒ˜áƒ—.

---

# âœ… 5. áƒ áƒ áƒ’áƒáƒœáƒ¡áƒ®áƒ•áƒáƒ•áƒ”áƒ‘áƒáƒ cloudformation-guard áƒ“áƒ aws cloudformation validate-template áƒ¨áƒáƒ áƒ˜áƒ¡?

| áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ | cloudformation-guard | aws cloudformation validate-template |
|:--------|:----------------------|:-------------------------------------|
| **áƒ áƒáƒšáƒ˜** | Template-áƒ˜áƒ¡ áƒáƒáƒšáƒ˜áƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ‘áƒáƒ›áƒ˜áƒ¡áƒáƒ‘áƒ˜áƒ¡ (compliance) áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ | Template-áƒ˜áƒ¡ áƒ¡áƒ˜áƒœáƒ¢áƒáƒ¥áƒ¡áƒ˜áƒ¡ áƒ“áƒ áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ |
| **áƒáƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ¡** | áƒ áƒáƒ› Template áƒáƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ“áƒ”áƒ¡ áƒ¬áƒ˜áƒœáƒáƒ¡áƒ¬áƒáƒ  áƒ’áƒáƒ¬áƒ”áƒ áƒ˜áƒš áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ¡ (Policy-as-Code) | áƒ áƒáƒ› Template áƒ¡áƒ¬áƒáƒ áƒ˜áƒ YAML/JSON áƒ¡áƒ˜áƒœáƒ¢áƒáƒ¥áƒ¡áƒ˜áƒ— |
| **áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ** | áƒ¡áƒ”áƒ¥áƒ˜áƒ£áƒ áƒ˜áƒ—áƒ˜ áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ”áƒ‘áƒ˜áƒ¡, naming áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡, best practices áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ | áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ•áƒáƒšáƒ˜áƒ“áƒáƒªáƒ˜áƒ (áƒáƒ  áƒ¨áƒ”áƒáƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ¡ áƒ áƒáƒ¡ áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ¡ Template áƒ¨áƒ˜áƒœáƒáƒáƒ áƒ¡áƒáƒ‘áƒ áƒ˜áƒ•áƒáƒ“) |
| **áƒ¨áƒ”áƒ“áƒáƒ áƒ”áƒ‘áƒ** | áƒ áƒáƒ’áƒáƒ áƒ˜áƒª áƒáƒ áƒ˜áƒ¡: "áƒ§áƒ•áƒ”áƒšáƒ S3 áƒ‘áƒáƒ™áƒ”áƒ¢áƒ¡ áƒ£áƒœáƒ“áƒ áƒ°áƒ¥áƒáƒœáƒ“áƒ”áƒ¡ áƒ•áƒ”áƒ áƒ¡áƒ˜áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ˜" | áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ Syntax, áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒáƒ“: "áƒ›áƒáƒ™áƒšáƒ˜áƒ Properties áƒ¡áƒ”áƒ¥áƒªáƒ˜áƒ" |

---

# âœ… 6. áƒ©áƒáƒ›áƒáƒ¬áƒ”áƒ áƒ”áƒ— CloudFormation Template-áƒ˜áƒ¡ áƒ¡áƒ”áƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜, áƒ›áƒ˜áƒáƒ¬áƒ”áƒ áƒ”áƒ— áƒ áƒáƒ›áƒ”áƒšáƒ˜ áƒáƒ£áƒªáƒ˜áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ áƒ“áƒ áƒ áƒáƒ›áƒ”áƒšáƒ˜ áƒáƒ áƒ

| áƒ¡áƒ”áƒ¥áƒªáƒ˜áƒ | áƒáƒ£áƒªáƒ˜áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ? | áƒáƒ¦áƒ¬áƒ”áƒ áƒ |
|:--------|:--------------|:--------|
| **AWSTemplateFormatVersion** | áƒáƒ áƒ | Template-áƒ˜áƒ¡ áƒ¤áƒáƒ áƒ›áƒáƒ¢áƒ˜áƒ¡ áƒ•áƒ”áƒ áƒ¡áƒ˜áƒ (áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ£áƒšáƒ˜áƒ). |
| **Description** | áƒáƒ áƒ | Template-áƒ˜áƒ¡ áƒ›áƒáƒ™áƒšáƒ” áƒáƒ¦áƒ¬áƒ”áƒ áƒ. |
| **Metadata** | áƒáƒ áƒ | áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ—áƒ˜ áƒ˜áƒœáƒ¡áƒ¢áƒ áƒ£áƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜ áƒáƒœ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜ Template-áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡. |
| **Parameters** | áƒáƒ áƒ | áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ§áƒ•áƒáƒœáƒ˜ áƒªáƒ•áƒšáƒáƒ“áƒ”áƒ‘áƒ˜. |
| **Mappings** | áƒáƒ áƒ | áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ™áƒ£áƒ áƒ˜ Lookup áƒªáƒ®áƒ áƒ˜áƒšáƒ”áƒ‘áƒ˜, áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒáƒ“ áƒ áƒ”áƒ’áƒ˜áƒáƒœáƒ–áƒ” áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒáƒ›áƒáƒªáƒáƒœáƒ”áƒ‘áƒ˜. |
| **Conditions** | áƒáƒ áƒ | áƒáƒ˜áƒ áƒáƒ‘áƒ˜áƒ—áƒ˜ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ˜áƒ¡ áƒšáƒáƒ’áƒ˜áƒ™áƒ. |
| **Transform** | áƒáƒ áƒ | Macros áƒ“áƒ áƒ¡áƒ®áƒ•áƒ Template-áƒ˜áƒ¡ áƒ’áƒáƒ¤áƒáƒ áƒ—áƒáƒ”áƒ‘áƒ”áƒ‘áƒ˜ (áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒáƒ“, SAM). |
| **Resources** | **áƒ™áƒ˜! (áƒáƒ£áƒªáƒ˜áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ)** | áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜ áƒ¡áƒ”áƒ¥áƒªáƒ˜áƒ, áƒ¡áƒáƒ“áƒáƒª áƒ áƒ”áƒáƒšáƒ£áƒ áƒáƒ“ áƒáƒ¦áƒ¬áƒ”áƒ áƒ— áƒ˜áƒœáƒ¤áƒ áƒáƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ˜áƒ¡ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ¡. |
| **Outputs** | áƒáƒ áƒ | Stack-áƒ˜áƒ¡ áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒáƒ¡ áƒ’áƒáƒ›áƒáƒ¡áƒáƒ¢áƒáƒœáƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ”áƒ‘áƒ˜. |

---

# ğŸ“‹ áƒ“áƒáƒ¡áƒ™áƒ•áƒœáƒ:

- **Resources** áƒáƒ áƒ˜áƒ¡ áƒ”áƒ áƒ—áƒáƒ“áƒ”áƒ áƒ—áƒ˜ áƒ¡áƒ”áƒ¥áƒªáƒ˜áƒ, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ§áƒáƒ•áƒ”áƒšáƒ—áƒ•áƒ˜áƒ¡ áƒ¡áƒáƒ•áƒáƒšáƒ“áƒ”áƒ‘áƒ£áƒšáƒáƒ.
- **Parameters**, **Mappings**, **Conditions**, **Outputs** áƒáƒáƒ“áƒ•áƒ˜áƒšáƒ”áƒ‘áƒ¡ Template-áƒ˜áƒ¡ áƒ›áƒáƒ¥áƒœáƒ˜áƒšáƒáƒ‘áƒáƒ¡, áƒ›áƒáƒ’áƒ áƒáƒ› áƒáƒ£áƒªáƒ˜áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜ áƒáƒ áƒáƒ.
- **IaC** áƒáƒ áƒ˜áƒ¡ áƒ›áƒáƒ›áƒáƒ•áƒáƒšáƒ˜ â€” áƒ˜áƒœáƒ¤áƒ áƒáƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ áƒ áƒáƒ’áƒáƒ áƒª áƒ™áƒáƒ“áƒ˜.
- **CloudFormation Guard** áƒ£áƒ¤áƒ áƒ áƒ¡áƒ˜áƒ¦áƒ áƒ›áƒ˜áƒ¡áƒ”áƒ£áƒšáƒ˜ áƒáƒáƒšáƒ˜áƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ¡áƒáƒ­áƒ˜áƒ áƒ, áƒ•áƒ˜áƒ“áƒ áƒ” áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ¡áƒ˜áƒœáƒ¢áƒáƒ¥áƒ¡áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡.

 




áƒáƒ áƒáƒ¥áƒ¢áƒ˜áƒ™áƒ£áƒšáƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜:
áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html áƒ“áƒ áƒáƒ¦áƒ¬áƒ”áƒ áƒ”áƒ— S3 bucket, CloudFormation áƒ˜áƒ¡ Template
áƒ¨áƒ˜ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ˜áƒ—:
1. áƒ‘áƒáƒ™áƒ”áƒ¢áƒ˜áƒ¡ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜: (X áƒ¥áƒ£áƒšáƒ)
áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ áƒ£áƒœáƒ˜áƒ™áƒáƒšáƒ£áƒ áƒ˜ áƒ“áƒ áƒ“áƒ˜áƒœáƒáƒ›áƒ˜áƒ£áƒ áƒáƒ“ áƒ’áƒ”áƒœáƒ”áƒ áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜. áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— áƒ¤áƒ¡áƒ”áƒ•áƒ“áƒ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜ (AWS::AccountId) áƒ“áƒ/áƒáƒœ áƒ¨áƒ˜áƒ“áƒ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜ (Fn::Sub, Fn::Join)
áƒ¡áƒáƒ®áƒ”áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ¥áƒ›áƒœáƒ”áƒšáƒáƒ“ (áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒáƒ“: my-app-logs-${AWS::AccountId}).
2. Versioning: (X áƒ¥áƒ£áƒšáƒ)
áƒ‘áƒáƒ™áƒ”áƒ¢áƒ–áƒ” áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ áƒ•áƒ”áƒ áƒ¡áƒ˜áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ (VersioningConfiguration).
3. Access Control: (X áƒ¥áƒ£áƒšáƒ)
áƒ“áƒáƒáƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒ˜áƒ áƒ”áƒ— PublicAccessBlockConfiguration, áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ˜áƒ¡ áƒ“áƒ˜áƒœáƒáƒ›áƒ˜áƒ£áƒ áƒ˜ áƒªáƒ•áƒšáƒáƒ“áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ— áƒ áƒáƒ—áƒ stack áƒ˜áƒ¡ áƒ©áƒáƒ¨áƒ•áƒ”áƒ‘áƒáƒ›áƒ“áƒ” áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ˜áƒ§áƒáƒ¡ áƒáƒ›
áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ˜áƒ¡ áƒ©áƒáƒ áƒ—áƒ•áƒ áƒáƒœ áƒ’áƒáƒ›áƒáƒ áƒ—áƒ•áƒ.
4. Tags: (X áƒ¥áƒ£áƒšáƒ)
áƒ“áƒáƒáƒ›áƒáƒ¢áƒ”áƒ— áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› áƒ”áƒ áƒ—áƒ˜ áƒ—áƒ”áƒ’áƒ˜ áƒ‘áƒáƒ™áƒ”áƒ¢áƒ¡, áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒáƒ“: Project: MyWebApp. áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜ áƒ—áƒ”áƒ’áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡.

áƒ“áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒ“áƒ˜áƒ—, áƒ áƒáƒ› áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒ¨áƒáƒ‘áƒšáƒáƒœáƒ˜ áƒ•áƒáƒšáƒ˜áƒ“áƒ£áƒ áƒ˜áƒ - aws cloudformation validate-template
AWSTemplateFormatVersion: '2010-09-09'
Description: >
  S3 Bucket Template with dynamic name, versioning, public access block and tags.

Parameters:
  EnablePublicAccessBlock:
    Type: String
    AllowedValues:
      - true
      - false
    Default: true
    Description: >
      Determines if PublicAccessBlockConfiguration should be enabled on the bucket.

  ProjectName:
    Type: String
    Default: MyWebApp
    Description: >
      The project name to use in bucket tags.

Resources:
  MyS3Bucket:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: 
        !Sub "my-app-logs-${AWS::AccountId}"
      VersioningConfiguration:
        Status: Enabled
      PublicAccessBlockConfiguration:
        BlockPublicAcls: !Ref EnablePublicAccessBlock
        BlockPublicPolicy: !Ref EnablePublicAccessBlock
        IgnorePublicAcls: !Ref EnablePublicAccessBlock
        RestrictPublicBuckets: !Ref EnablePublicAccessBlock
      Tags:
        - Key: Project
          Value: !Ref ProjectName

Outputs:
  BucketName:
    Description: "The name of the created S3 bucket."
    Value: !Ref MyS3Bucket



áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbinstance.html áƒ“áƒ áƒáƒ¦áƒ¬áƒ”áƒ áƒ”áƒ— áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ—áƒ áƒ‘áƒáƒ–áƒ˜áƒ¡ áƒ˜áƒœáƒ¡áƒ¢áƒáƒœáƒ¡áƒ˜:
1. Parameters: (X áƒ¥áƒ£áƒšáƒ)
áƒ¨áƒáƒ‘áƒšáƒáƒœáƒ¡ áƒ£áƒœáƒ“áƒ áƒ°áƒ¥áƒáƒœáƒ“áƒ”áƒ¡ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜:
1. DBEngine - áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ—áƒ áƒ‘áƒáƒ–áƒ˜áƒ¡ áƒ«áƒ áƒáƒ•áƒ˜ áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒáƒ“ (mysql, postgres). áƒ›áƒ˜áƒ”áƒªáƒ˜áƒ— áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ”áƒ‘áƒ áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ¡ áƒáƒ˜áƒ áƒ©áƒ˜áƒáƒ¡ áƒ¡áƒ˜áƒ˜áƒ“áƒáƒœ (AllowedValues).
2. DBInstanceClass - default áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ db.t1.micro
3. AllocatedStorage - default áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ 8 áƒ’áƒ˜áƒ’áƒáƒ‘áƒáƒ˜áƒ¢áƒ˜.
4. DBName - áƒ‘áƒáƒ–áƒ˜áƒ¡ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜.
5. MasterUsername - áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ—áƒ áƒ‘áƒáƒ–áƒ˜áƒ¡ áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒ¢áƒáƒ áƒ˜áƒ¡ áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ¡ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜.
6. MasterUserPassword - áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒ¢áƒáƒ áƒ˜áƒ¡ áƒáƒáƒ áƒáƒšáƒ˜ (áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— NoEcho: true áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ˜áƒ¡ áƒáƒ¢áƒ áƒ˜áƒ‘áƒ£áƒ¢áƒ˜ áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡).
7. DBSubnetGroupName - áƒáƒ áƒ¡áƒ”áƒ‘áƒ£áƒšáƒ˜ DB Subnet Group-áƒ˜áƒ¡ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ¨áƒ˜áƒª áƒ£áƒœáƒ“áƒ áƒ’áƒáƒ”áƒ¨áƒ•áƒáƒ¡ áƒ˜áƒœáƒ¡áƒ¢áƒáƒœáƒ¡áƒ˜.
8. VPCSecurityGroupIds - áƒáƒ áƒ¡áƒ”áƒ‘áƒ£áƒšáƒ˜ VPC áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒáƒ”áƒ‘áƒ˜áƒ¡ áƒ¯áƒ’áƒ£áƒ¤(áƒ”áƒ‘)áƒ˜áƒ¡ ID (áƒ¡áƒ˜áƒ, áƒ›áƒ«áƒ˜áƒ›áƒ˜áƒ— áƒ’áƒáƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ˜ áƒáƒœ List<AWS::EC2::SecurityGroup::Id> áƒ¢áƒ˜áƒáƒ˜áƒ¡).
2. RDS DB áƒ˜áƒœáƒ¡áƒ¢áƒáƒœáƒ¡áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ (AWS::RDS::DBInstance): (X áƒ¥áƒ£áƒšáƒ)
1. áƒ«áƒ áƒáƒ•áƒ˜ áƒ“áƒ áƒ™áƒšáƒáƒ¡áƒ˜: áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— áƒ–áƒ”áƒ›áƒáƒ— áƒ’áƒáƒœáƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒ£áƒšáƒ˜ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜ (DBEngine, DBInstanceClass).
2. áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— AllocatedStorage áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ˜.
3. áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— DBName áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ˜.
4. áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— MasterUsername áƒ“áƒ MasterUserPassword áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜.
5. áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— DBSubnetGroupName áƒ“áƒ VPCSecurityGroupIds áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜.


AWSTemplateFormatVersion: '2010-09-09'
Description: >
  CloudFormation Template for creating an RDS DB Instance with customizable parameters.

Parameters:
  DBEngine:
    Type: String
    Description: "Select the database engine."
    AllowedValues:
      - mysql
      - postgres
    Default: mysql

  DBInstanceClass:
    Type: String
    Description: "Database instance class."
    Default: db.t1.micro

  AllocatedStorage:
    Type: Number
    Description: "Allocated storage in GB."
    Default: 8
    MinValue: 5
    MaxValue: 6144

  DBName:
    Type: String
    Description: "The name of the database to create."

  MasterUsername:
    Type: String
    Description: "The master username for the database."

  MasterUserPassword:
    Type: String
    Description: "The master password for the database."
    NoEcho: true

  DBSubnetGroupName:
    Type: String
    Description: "The name of an existing DB subnet group."

  VPCSecurityGroupIds:
    Type: List<AWS::EC2::SecurityGroup::Id>
    Description: "List of VPC security group IDs."

Resources:
  MyDBInstance:
    Type: AWS::RDS::DBInstance
    Properties:
      Engine: !Ref DBEngine
      DBInstanceClass: !Ref DBInstanceClass
      AllocatedStorage: !Ref AllocatedStorage
      DBName: !Ref DBName
      MasterUsername: !Ref MasterUsername
      MasterUserPassword: !Ref MasterUserPassword
      DBSubnetGroupName: !Ref DBSubnetGroupName
      VPCSecurityGroupIds: !Ref VPCSecurityGroupIds
      PubliclyAccessible: false
      BackupRetentionPeriod: 7
      DeletionProtection: true

Outputs:
  DBInstanceEndpoint:
    Description: "The database endpoint address."
    Value: !GetAtt MyDBInstance.Endpoint.Address
  DBInstanceId:
    Description: "The database instance ID."
    Value: !Ref MyDBInstance













