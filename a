рЃљрЃЉрЃАрЃЮрЃџрЃБрЃбрЃБрЃарЃљрЃЊ рЃЊрЃћрЃбрЃљрЃџрЃБрЃарЃљрЃЊ рЃњрЃљрЃњрЃўрЃгрЃћрЃа рЃърЃљрЃАрЃБрЃ«рЃћрЃЉрЃА, рЃарЃЮрЃњрЃЮрЃарЃф рЃЌрЃБ рЃАрЃљрЃАрЃгрЃљрЃЋрЃџрЃЮ рЃЏрЃљрЃАрЃљрЃџрЃљ рЃњрЃўрЃюрЃЊрЃљ:

---

# РюЁ 1. рЃарЃљ рЃљрЃарЃўрЃА Infrastructure as Code (IaC)?

**Infrastructure as Code (IaC)** Рђћ рЃћрЃА рЃљрЃарЃўрЃА рЃўрЃюрЃцрЃарЃљрЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃўрЃА рЃЏрЃћрЃЌрЃЮрЃЊрЃЮрЃџрЃЮрЃњрЃўрЃљ, рЃАрЃљрЃЊрЃљрЃф рЃАрЃћрЃарЃЋрЃћрЃарЃћрЃЉрЃў, рЃЦрЃАрЃћрЃџрЃћрЃЉрЃў, рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЉрЃљрЃќрЃћрЃЉрЃў рЃЊрЃљ рЃАрЃ«рЃЋрЃљ рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃћрЃЉрЃў рЃўрЃЦрЃЏрЃюрЃћрЃЉрЃљ рЃЊрЃљ рЃЏрЃљрЃарЃЌрЃћрЃЉрЃљ рЃ«рЃЊрЃћрЃЉрЃљ рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃБрЃџрЃљрЃЊ (рЃЎрЃЮрЃЊрЃўрЃЌ) Рђћ рЃўрЃАрЃћрЃЋрЃћ рЃарЃЮрЃњрЃЮрЃарЃф рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃўрЃА рЃЎрЃЮрЃЊрЃўрЃА рЃгрЃћрЃарЃўрЃЌ.

**рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃЏрЃљрЃ«рЃљрЃАрЃўрЃљрЃЌрЃћрЃЉрЃџрЃћрЃЉрЃў:**
- рЃўрЃюрЃцрЃарЃљрЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ рЃљрЃдрЃгрЃћрЃарЃўрЃџрЃўрЃљ рЃцрЃљрЃўрЃџрЃћрЃЉрЃљрЃЊ (YAML, JSON, HCL рЃЊрЃљ рЃАрЃ«рЃЋрЃљ).
- рЃљрЃЊрЃЋрЃўрЃџрЃљрЃЊ рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ рЃЋрЃћрЃарЃАрЃўрЃћрЃЉрЃўрЃА рЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃў (Git-рЃўрЃЌ).
- рЃљрЃБрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃљрЃфрЃўрЃљ: рЃњрЃљрЃЏрЃљрЃарЃбрЃўрЃЋрЃћрЃЉрЃБрЃџрЃў deployment-рЃћрЃЉрЃў рЃЊрЃљ рЃњрЃљрЃюрЃљрЃ«рЃџрЃћрЃЉрЃћрЃЉрЃў.
- рЃарЃћрЃърЃарЃЮрЃЊрЃБрЃфрЃўрЃарЃћрЃЉрЃљ: рЃћрЃарЃЌрЃў рЃЊрЃљ рЃўрЃњрЃўрЃЋрЃћ рЃўрЃюрЃцрЃарЃљрЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ рЃерЃћрЃњрЃЋрЃўрЃФрЃџрЃўрЃљ рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ рЃњрЃљрЃарЃћрЃЏрЃЮрЃерЃў рЃљрЃЋрЃљрЃгрЃДрЃЮрЃЌ (dev, staging, prod).

**рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў IaC рЃўрЃюрЃАрЃбрЃарЃБрЃЏрЃћрЃюрЃбрЃћрЃЉрЃўрЃА:**  
- AWS CloudFormation
- Terraform
- Pulumi
- Ansible (Configuration Management-рЃўрЃф)

---

# РюЁ 2. рЃарЃљ рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў рЃљрЃЦрЃЋрЃА рЃцрЃАрЃћрЃЋрЃЊрЃЮ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃА AWS CloudFormation-рЃерЃў?

**рЃцрЃАрЃћрЃЋрЃЊрЃЮ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў (Pseudo Parameters)** Рђћ рЃћрЃА рЃљрЃарЃўрЃА рЃгрЃўрЃюрЃљрЃАрЃгрЃљрЃа рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃБрЃџрЃў, рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃЏрЃЮрЃгрЃЮрЃЊрЃћрЃЉрЃБрЃџрЃў рЃАрЃўрЃАрЃбрЃћрЃЏрЃБрЃарЃў рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃћрЃЉрЃў, рЃарЃЮрЃЏрЃћрЃџрЃЌрЃљ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ рЃерЃћрЃњрЃЋрЃўрЃФрЃџрЃўрЃљ Template-рЃўрЃА рЃерЃўрЃњрЃюрЃўрЃЌ, рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃА рЃерЃћрЃДрЃЋрЃљрЃюрЃўрЃА рЃњрЃљрЃарЃћрЃерЃћ.

**рЃцрЃАрЃћрЃЋрЃЊрЃЮ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃћрЃЉрЃў:**
| рЃцрЃАрЃћрЃЋрЃЊрЃЮ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃў | рЃљрЃдрЃгрЃћрЃарЃљ |
|:----------------|:-------|
| **AWS::AccountId** | рЃЏрЃўрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃљрЃюрЃњрЃљрЃарЃўрЃерЃўрЃА ID. |
| **AWS::Region** | рЃарЃћрЃњрЃўрЃЮрЃюрЃў рЃАрЃљрЃЊрЃљрЃф stack-рЃў рЃўрЃерЃЋрЃћрЃЉрЃљ (рЃЏрЃљрЃњ: `us-east-1`). |
| **AWS::StackName** | Stack-рЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў. |
| **AWS::StackId** | Stack-рЃўрЃА рЃБрЃюрЃўрЃЎрЃљрЃџрЃБрЃарЃў ID. |
| **AWS::Partition** | Partition (aws, aws-cn, aws-us-gov). |
| **AWS::URLSuffix** | рЃАрЃљрЃ»рЃљрЃарЃЮ рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃўрЃА DNS рЃАрЃБрЃцрЃўрЃЦрЃАрЃў (рЃЏрЃљрЃњ: `amazonaws.com`). |

> рЃцрЃАрЃћрЃЋрЃЊрЃЮ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў рЃФрЃљрЃџрЃўрЃљрЃю рЃЏрЃЮрЃАрЃљрЃ«рЃћрЃарЃ«рЃћрЃЉрЃћрЃџрЃўрЃљ рЃБрЃюрЃўрЃЎрЃљрЃџрЃБрЃарЃў рЃарЃћрЃАрЃБрЃарЃАрЃћрЃЉрЃўрЃА рЃЊрЃљрЃАрЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃџрЃљрЃЊ!

---

# РюЁ 3. рЃЕрЃљрЃЏрЃЮрЃгрЃћрЃарЃћрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃЌрЃЋрЃўрЃА рЃфрЃюрЃЮрЃЉрЃўрЃџрЃў intrinsic рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃў

**Intrinsic Functions** Рђћ рЃАрЃърЃћрЃфрЃўрЃљрЃџрЃБрЃарЃў рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃўрЃљ, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф CloudFormation рЃерЃљрЃЉрЃџрЃЮрЃюрЃерЃў рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ рЃЊрЃўрЃюрЃљрЃЏрЃўрЃБрЃарЃў рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃћрЃЉрЃўрЃА рЃерЃћрЃАрЃљрЃЦрЃЏрЃюрЃћрЃџрЃљрЃЊ.

**рЃ«рЃерЃўрЃарЃљрЃЊ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃБрЃџрЃў intrinsic рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃў:**

| рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ | рЃЊрЃљрЃюрЃўрЃерЃюрЃБрЃџрЃћрЃЉрЃљ |
|:--------|:------------|
| **Fn::Sub** | рЃАрЃбрЃарЃўрЃЦрЃЮрЃюрЃћрЃЉрЃўрЃА рЃЕрЃљрЃюрЃљрЃфрЃЋрЃџрЃћрЃЉрЃљ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃўрЃЌ (String substitution). |
| **Fn::Join** | рЃАрЃбрЃарЃўрЃЦрЃЮрЃюрЃћрЃЉрЃўрЃА рЃерЃћрЃћрЃарЃЌрЃћрЃЉрЃљ рЃАрЃћрЃърЃљрЃарЃљрЃбрЃЮрЃарЃўрЃЌ. |
| **Fn::GetAtt** | рЃарЃћрЃАрЃБрЃарЃАрЃўрЃА рЃљрЃбрЃарЃўрЃЉрЃБрЃбрЃўрЃА рЃЏрЃўрЃдрЃћрЃЉрЃљ (рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃљрЃЊ, EC2-рЃўрЃА Public IP). |
| **Fn::Ref** | рЃарЃћрЃАрЃБрЃарЃАрЃўрЃА рЃљрЃю рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃўрЃА ID-рЃўрЃА рЃљрЃю рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃўрЃА рЃЏрЃўрЃдрЃћрЃЉрЃљ. |
| **Fn::If** | рЃърЃўрЃарЃЮрЃЉрЃўрЃЌрЃў рЃџрЃЮрЃњрЃўрЃЎрЃљ (рЃЌрЃБ рЃљрЃАрЃћрЃљ, рЃњрЃљрЃљрЃЎрЃћрЃЌрЃћ рЃћрЃА, рЃЌрЃЮрЃарЃћрЃЏ рЃўрЃА). |
| **Fn::Equals**, **Fn::And**, **Fn::Or**, **Fn::Not** | рЃърЃўрЃарЃЮрЃЉрЃўрЃЌрЃў рЃЮрЃърЃћрЃарЃљрЃбрЃЮрЃарЃћрЃЉрЃў. |
| **Fn::Select** | рЃћрЃџрЃћрЃЏрЃћрЃюрЃбрЃўрЃА рЃљрЃЏрЃЮрЃдрЃћрЃЉрЃљ рЃАрЃўрЃўрЃЊрЃљрЃю рЃўрЃюрЃЊрЃћрЃЦрЃАрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ. |
| **Fn::Split** | рЃАрЃбрЃарЃўрЃюрЃњрЃўрЃА рЃњрЃљрЃДрЃЮрЃцрЃљ рЃАрЃўрЃљрЃЊ. |
| **Fn::ImportValue** | рЃАрЃ«рЃЋрЃљ Stack-рЃўрЃЊрЃљрЃю рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃўрЃА рЃўрЃЏрЃърЃЮрЃарЃбрЃў. |
| **Fn::Base64** | Base64-рЃљрЃЊ рЃЊрЃљрЃерЃўрЃцрЃЋрЃарЃљ (UserData-рЃАрЃЌрЃЋрЃўрЃА рЃ«рЃерЃўрЃарЃљрЃЊ). |

---

# РюЁ 4. рЃарЃљ рЃЏрЃЮрЃ«рЃЊрЃћрЃЉрЃљ, рЃЌрЃБ рЃгрЃљрЃЋрЃерЃџрЃўрЃЌ рЃарЃћрЃАрЃБрЃарЃАрЃА, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃерЃћрЃўрЃЦрЃЏрЃюрЃљ CloudFormation-рЃўрЃЌ рЃЊрЃљ рЃЋрЃфрЃЊрЃўрЃЌ рЃўрЃњрЃўрЃЋрЃћ Stack-рЃўрЃА рЃњрЃљрЃюрЃљрЃ«рЃџрЃћрЃЉрЃљрЃА?

**рЃърЃљрЃАрЃБрЃ«рЃў:**  
рЃЌрЃБ рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа рЃгрЃљрЃерЃџрЃўрЃЌ AWS-рЃўрЃА рЃЎрЃЮрЃюрЃАрЃЮрЃџрЃўрЃЊрЃљрЃю рЃљрЃю рЃАрЃ«рЃЋрЃљ рЃњрЃќрЃўрЃЌ (рЃљрЃарЃљ CloudFormation-рЃўрЃЌ), рЃерЃћрЃЏрЃЊрЃћрЃњ Stack-рЃўрЃА рЃњрЃљрЃюрЃљрЃ«рЃџрЃћрЃЉрЃўрЃА (Update) рЃЏрЃфрЃЊрЃћрЃџрЃЮрЃЉрЃўрЃАрЃљрЃА:

- **CloudFormation-рЃў** рЃљрЃЏрЃЮрЃўрЃфрЃюрЃЮрЃЉрЃА рЃарЃЮрЃЏ рЃарЃћрЃАрЃБрЃарЃАрЃў рЃгрЃљрЃерЃџрЃўрЃџрЃўрЃљ.
- рЃњрЃљрЃюрЃљрЃ«рЃџрЃћрЃЉрЃўрЃАрЃљрЃА рЃЊрЃљрЃњрЃўрЃЉрЃарЃБрЃюрЃћрЃЉрЃА **ROLLBACK_IN_PROGRESS** рЃљрЃю **UPDATE_FAILED** рЃАрЃбрЃљрЃбрЃБрЃАрЃА.
- Stack-рЃўрЃА рЃњрЃљрЃюрЃљрЃ«рЃџрЃћрЃЉрЃљ рЃЋрЃћрЃа рЃерЃћрЃАрЃарЃБрЃџрЃЊрЃћрЃЉрЃљ, рЃАрЃљрЃюрЃљрЃЏ рЃарЃћрЃАрЃБрЃарЃАрЃА рЃљрЃа рЃљрЃдрЃљрЃЊрЃњрЃћрЃюрЃЌ рЃљрЃю Template-рЃА рЃљрЃа рЃЏрЃЮрЃљрЃарЃњрЃћрЃЉрЃЌ рЃљрЃ«рЃљрЃџ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃА.

**рЃарЃљ рЃњрЃќрЃћрЃЉрЃўрЃљ рЃњрЃљрЃЏрЃЮрЃАрЃљрЃАрЃгрЃЮрЃарЃћрЃЉрЃџрЃљрЃЊ?**
- Manual Deletion Recovery Рђћ рЃљрЃдрЃљрЃЊрЃњрЃўрЃюрЃЮрЃЌ рЃарЃћрЃАрЃБрЃарЃАрЃў рЃ«рЃћрЃџрЃўрЃЌ.
- Modify Template Рђћ рЃерЃћрЃфрЃЋрЃљрЃџрЃЮрЃЌ Template рЃўрЃАрЃћ, рЃарЃЮрЃЏ рЃљрЃдрЃљрЃа рЃЏрЃЮрЃўрЃЌрЃ«рЃЮрЃЋрЃЮрЃА рЃгрЃљрЃерЃџрЃўрЃџрЃў рЃарЃћрЃАрЃБрЃарЃАрЃў.
- Stack Replace Рђћ рЃерЃћрЃЦрЃЏрЃюрЃљрЃЌ рЃљрЃ«рЃљрЃџрЃў Stack рЃАрЃБрЃцрЃЌрЃљ Template-рЃўрЃЌ.

---

# РюЁ 5. рЃарЃљ рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃљрЃљ cloudformation-guard рЃЊрЃљ aws cloudformation validate-template рЃерЃЮрЃарЃўрЃА?

| рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ | cloudformation-guard | aws cloudformation validate-template |
|:--------|:----------------------|:-------------------------------------|
| **рЃарЃЮрЃџрЃў** | Template-рЃўрЃА рЃърЃЮрЃџрЃўрЃбрЃўрЃЎрЃўрЃА рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃЮрЃЉрЃўрЃА (compliance) рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ | Template-рЃўрЃА рЃАрЃўрЃюрЃбрЃљрЃЦрЃАрЃўрЃА рЃЊрЃљ рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ |
| **рЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃА** | рЃарЃЮрЃЏ Template рЃљрЃЎрЃЏрЃљрЃДрЃЮрЃцрЃўрЃџрЃћрЃЉрЃЊрЃћрЃА рЃгрЃўрЃюрЃљрЃАрЃгрЃљрЃа рЃњрЃљрЃгрЃћрЃарЃўрЃџ рЃгрЃћрЃАрЃћрЃЉрЃА (Policy-as-Code) | рЃарЃЮрЃЏ Template рЃАрЃгрЃЮрЃарЃўрЃљ YAML/JSON рЃАрЃўрЃюрЃбрЃљрЃЦрЃАрЃўрЃЌ |
| **рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ** | рЃАрЃћрЃЦрЃўрЃБрЃарЃўрЃЌрЃў рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃћрЃЉрЃўрЃА, naming рЃгрЃћрЃАрЃћрЃЉрЃўрЃА, best practices рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ | рЃБрЃЉрЃарЃљрЃџрЃЮрЃЊ рЃЋрЃљрЃџрЃўрЃЊрЃљрЃфрЃўрЃљ (рЃљрЃа рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃА рЃарЃљрЃА рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА Template рЃерЃўрЃюрЃљрЃљрЃарЃАрЃЮрЃЉрЃарЃўрЃЋрЃљрЃЊ) |
| **рЃерЃћрЃЊрЃљрЃарЃћрЃЉрЃљ** | рЃарЃЮрЃњрЃЮрЃарЃўрЃф рЃљрЃарЃўрЃА: "рЃДрЃЋрЃћрЃџрЃљ S3 рЃЉрЃљрЃЎрЃћрЃбрЃА рЃБрЃюрЃЊрЃљ рЃ░рЃЦрЃЮрЃюрЃЊрЃћрЃА рЃЋрЃћрЃарЃАрЃўрЃЮрЃюрЃўрЃарЃћрЃЉрЃљ рЃЕрЃљрЃарЃЌрЃБрЃџрЃў" | рЃБрЃЉрЃарЃљрЃџрЃЮрЃЊ Syntax, рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃљрЃЊ: "рЃЏрЃљрЃЎрЃџрЃўрЃљ Properties рЃАрЃћрЃЦрЃфрЃўрЃљ" |

---

# РюЁ 6. рЃЕрЃљрЃЏрЃЮрЃгрЃћрЃарЃћрЃЌ CloudFormation Template-рЃўрЃА рЃАрЃћрЃЦрЃфрЃўрЃћрЃЉрЃў, рЃЏрЃўрЃљрЃгрЃћрЃарЃћрЃЌ рЃарЃЮрЃЏрЃћрЃџрЃў рЃљрЃБрЃфрЃўрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ рЃЊрЃљ рЃарЃЮрЃЏрЃћрЃџрЃў рЃљрЃарЃљ

| рЃАрЃћрЃЦрЃфрЃўрЃљ | рЃљрЃБрЃфрЃўрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ? | рЃљрЃдрЃгрЃћрЃарЃљ |
|:--------|:--------------|:--------|
| **AWSTemplateFormatVersion** | рЃљрЃарЃљ | Template-рЃўрЃА рЃцрЃЮрЃарЃЏрЃљрЃбрЃўрЃА рЃЋрЃћрЃарЃАрЃўрЃљ (рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃБрЃџрЃўрЃљ). |
| **Description** | рЃљрЃарЃљ | Template-рЃўрЃА рЃЏрЃЮрЃЎрЃџрЃћ рЃљрЃдрЃгрЃћрЃарЃљ. |
| **Metadata** | рЃљрЃарЃљ | рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃћрЃЉрЃў рЃљрЃю рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃў Template-рЃўрЃАрЃЌрЃЋрЃўрЃА. |
| **Parameters** | рЃљрЃарЃљ | рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃА рЃерЃћрЃАрЃљрЃДрЃЋрЃљрЃюрЃў рЃфрЃЋрЃџрЃљрЃЊрЃћрЃЉрЃў. |
| **Mappings** | рЃљрЃарЃљ | рЃАрЃбрЃљрЃбрЃўрЃЎрЃБрЃарЃў Lookup рЃфрЃ«рЃарЃўрЃџрЃћрЃЉрЃў, рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃљрЃЊ рЃарЃћрЃњрЃўрЃЮрЃюрЃќрЃћ рЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃў рЃљрЃЏрЃЮрЃфрЃљрЃюрЃћрЃЉрЃў. |
| **Conditions** | рЃљрЃарЃљ | рЃърЃўрЃарЃЮрЃЉрЃўрЃЌрЃў рЃарЃћрЃАрЃБрЃарЃАрЃћрЃЉрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ. |
| **Transform** | рЃљрЃарЃљ | Macros рЃЊрЃљ рЃАрЃ«рЃЋрЃљ Template-рЃўрЃА рЃњрЃљрЃцрЃљрЃарЃЌрЃЮрЃћрЃЉрЃћрЃЉрЃў (рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃљрЃЊ, SAM). |
| **Resources** | **рЃЎрЃў! (рЃљрЃБрЃфрЃўрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ)** | рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃАрЃћрЃЦрЃфрЃўрЃљ, рЃАрЃљрЃЊрЃљрЃф рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ рЃљрЃдрЃгрЃћрЃарЃЌ рЃўрЃюрЃцрЃарЃљрЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃарЃћрЃАрЃБрЃарЃАрЃћрЃЉрЃА. |
| **Outputs** | рЃљрЃарЃљ | Stack-рЃўрЃА рЃЊрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃўрЃАрЃљрЃА рЃњрЃљрЃЏрЃЮрЃАрЃљрЃбрЃљрЃюрЃў рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃћрЃЉрЃў. |

---

# ­ЪЊІ рЃЊрЃљрЃАрЃЎрЃЋрЃюрЃљ:

- **Resources** рЃљрЃарЃўрЃА рЃћрЃарЃЌрЃљрЃЊрЃћрЃарЃЌрЃў рЃАрЃћрЃЦрЃфрЃўрЃљ, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮрЃљ.
- **Parameters**, **Mappings**, **Conditions**, **Outputs** рЃљрЃљрЃЊрЃЋрЃўрЃџрЃћрЃЉрЃА Template-рЃўрЃА рЃЏрЃЮрЃЦрЃюрЃўрЃџрЃЮрЃЉрЃљрЃА, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃљрЃБрЃфрЃўрЃџрЃћрЃЉрЃћрЃџрЃў рЃљрЃарЃљрЃљ.
- **IaC** рЃљрЃарЃўрЃА рЃЏрЃЮрЃЏрЃљрЃЋрЃљрЃџрЃў Рђћ рЃўрЃюрЃцрЃарЃљрЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ рЃарЃЮрЃњрЃЮрЃарЃф рЃЎрЃЮрЃЊрЃў.
- **CloudFormation Guard** рЃБрЃцрЃарЃЮ рЃАрЃўрЃдрЃарЃЏрЃўрЃАрЃћрЃБрЃџрЃў рЃърЃЮрЃџрЃўрЃбрЃўрЃЎрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА рЃљрЃарЃўрЃА рЃАрЃљрЃГрЃўрЃарЃЮ, рЃЋрЃўрЃЊрЃарЃћ рЃБрЃЉрЃарЃљрЃџрЃЮрЃЊ рЃАрЃўрЃюрЃбрЃљрЃЦрЃАрЃўрЃАрЃЌрЃЋрЃўрЃА.

 




рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃБрЃџрЃў рЃюрЃљрЃгрЃўрЃџрЃў:
рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html рЃЊрЃљ рЃљрЃдрЃгрЃћрЃарЃћрЃЌ S3 bucket, CloudFormation рЃўрЃА Template
рЃерЃў рЃерЃћрЃЏрЃЊрЃћрЃњрЃў рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃЌ:
1. рЃЉрЃљрЃЎрЃћрЃбрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў: (X рЃЦрЃБрЃџрЃљ)
рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА рЃБрЃюрЃўрЃЎрЃљрЃџрЃБрЃарЃў рЃЊрЃљ рЃЊрЃўрЃюрЃљрЃЏрЃўрЃБрЃарЃљрЃЊ рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў. рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ рЃцрЃАрЃћрЃЋрЃЊрЃЮ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў (AWS::AccountId) рЃЊрЃљ/рЃљрЃю рЃерЃўрЃЊрЃљ рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃў (Fn::Sub, Fn::Join)
рЃАрЃљрЃ«рЃћрЃџрЃўрЃА рЃерЃћрЃАрЃљрЃЦрЃЏрЃюрЃћрЃџрЃљрЃЊ (рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃљрЃЊ: my-app-logs-${AWS::AccountId}).
2. Versioning: (X рЃЦрЃБрЃџрЃљ)
рЃЉрЃљрЃЎрЃћрЃбрЃќрЃћ рЃЕрЃљрЃарЃЌрЃБрЃџрЃў рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА рЃЋрЃћрЃарЃАрЃўрЃЮрЃюрЃўрЃарЃћрЃЉрЃљ (VersioningConfiguration).
3. Access Control: (X рЃЦрЃБрЃџрЃљ)
рЃЊрЃљрЃљрЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃўрЃарЃћрЃЌ PublicAccessBlockConfiguration, рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃўрЃА рЃЊрЃўрЃюрЃљрЃЏрЃўрЃБрЃарЃў рЃфрЃЋрЃџрЃљрЃЊрЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃЌ рЃарЃљрЃЌрЃљ stack рЃўрЃА рЃЕрЃљрЃерЃЋрЃћрЃЉрЃљрЃЏрЃЊрЃћ рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃў рЃўрЃДрЃЮрЃА рЃљрЃЏ
рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ рЃљрЃю рЃњрЃљрЃЏрЃЮрЃарЃЌрЃЋрЃљ.
4. Tags: (X рЃЦрЃБрЃџрЃљ)
рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ рЃЏрЃўрЃюрЃўрЃЏрЃБрЃЏ рЃћрЃарЃЌрЃў рЃЌрЃћрЃњрЃў рЃЉрЃљрЃЎрЃћрЃбрЃА, рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃљрЃЊ: Project: MyWebApp. рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў рЃЌрЃћрЃњрЃћрЃЉрЃўрЃА рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА.

рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃўрЃЌ, рЃарЃЮрЃЏ рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃерЃљрЃЉрЃџрЃЮрЃюрЃў рЃЋрЃљрЃџрЃўрЃЊрЃБрЃарЃўрЃљ - aws cloudformation validate-template
AWSTemplateFormatVersion: '2010-09-09'
Description: >
  S3 Bucket Template with dynamic name, versioning, public access block and tags.

Parameters:
  EnablePublicAccessBlock:
    Type: String
    AllowedValues:
      - true
      - false
    Default: true
    Description: >
      Determines if PublicAccessBlockConfiguration should be enabled on the bucket.

  ProjectName:
    Type: String
    Default: MyWebApp
    Description: >
      The project name to use in bucket tags.

Resources:
  MyS3Bucket:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: 
        !Sub "my-app-logs-${AWS::AccountId}"
      VersioningConfiguration:
        Status: Enabled
      PublicAccessBlockConfiguration:
        BlockPublicAcls: !Ref EnablePublicAccessBlock
        BlockPublicPolicy: !Ref EnablePublicAccessBlock
        IgnorePublicAcls: !Ref EnablePublicAccessBlock
        RestrictPublicBuckets: !Ref EnablePublicAccessBlock
      Tags:
        - Key: Project
          Value: !Ref ProjectName

Outputs:
  BucketName:
    Description: "The name of the created S3 bucket."
    Value: !Ref MyS3Bucket



рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbinstance.html рЃЊрЃљ рЃљрЃдрЃгрЃћрЃарЃћрЃЌ рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЉрЃљрЃќрЃўрЃА рЃўрЃюрЃАрЃбрЃљрЃюрЃАрЃў:
1. Parameters: (X рЃЦрЃБрЃџрЃљ)
рЃерЃљрЃЉрЃџрЃЮрЃюрЃА рЃБрЃюрЃЊрЃљ рЃ░рЃЦрЃЮрЃюрЃЊрЃћрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў:
1. DBEngine - рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЉрЃљрЃќрЃўрЃА рЃФрЃарЃљрЃЋрЃў рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃљрЃЊ (mysql, postgres). рЃЏрЃўрЃћрЃфрЃўрЃЌ рЃАрЃљрЃерЃБрЃљрЃџрЃћрЃЉрЃљ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА рЃљрЃўрЃарЃЕрЃўрЃЮрЃА рЃАрЃўрЃўрЃЊрЃљрЃю (AllowedValues).
2. DBInstanceClass - default рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃљ db.t1.micro
3. AllocatedStorage - default рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃљ 8 рЃњрЃўрЃњрЃљрЃЉрЃљрЃўрЃбрЃў.
4. DBName - рЃЉрЃљрЃќрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў.
5. MasterUsername - рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЉрЃљрЃќрЃўрЃА рЃљрЃЊрЃЏрЃўрЃюрЃўрЃАрЃбрЃарЃљрЃбрЃЮрЃарЃўрЃА рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў.
6. MasterUserPassword - рЃљрЃЊрЃЏрЃўрЃюрЃўрЃАрЃбрЃарЃљрЃбрЃЮрЃарЃўрЃА рЃърЃљрЃарЃЮрЃџрЃў (рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ NoEcho: true рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃўрЃА рЃљрЃбрЃарЃўрЃЉрЃБрЃбрЃў рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА).
7. DBSubnetGroupName - рЃљрЃарЃАрЃћрЃЉрЃБрЃџрЃў DB Subnet Group-рЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў, рЃарЃЮрЃЏрЃћрЃџрЃерЃўрЃф рЃБрЃюрЃЊрЃљ рЃњрЃљрЃћрЃерЃЋрЃљрЃА рЃўрЃюрЃАрЃбрЃљрЃюрЃАрЃў.
8. VPCSecurityGroupIds - рЃљрЃарЃАрЃћрЃЉрЃБрЃџрЃў VPC рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃўрЃА рЃ»рЃњрЃБрЃц(рЃћрЃЉ)рЃўрЃА ID (рЃАрЃўрЃљ, рЃЏрЃФрЃўрЃЏрЃўрЃЌ рЃњрЃљрЃЏрЃЮрЃДрЃЮрЃцрЃўрЃџрЃў рЃљрЃю List<AWS::EC2::SecurityGroup::Id> рЃбрЃўрЃърЃўрЃА).
2. RDS DB рЃўрЃюрЃАрЃбрЃљрЃюрЃАрЃўрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ (AWS::RDS::DBInstance): (X рЃЦрЃБрЃџрЃљ)
1. рЃФрЃарЃљрЃЋрЃў рЃЊрЃљ рЃЎрЃџрЃљрЃАрЃў: рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ рЃќрЃћрЃЏрЃЮрЃЌ рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃБрЃџрЃў рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў (DBEngine, DBInstanceClass).
2. рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ AllocatedStorage рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃў.
3. рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ DBName рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃў.
4. рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ MasterUsername рЃЊрЃљ MasterUserPassword рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў.
5. рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ DBSubnetGroupName рЃЊрЃљ VPCSecurityGroupIds рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў.


AWSTemplateFormatVersion: '2010-09-09'
Description: >
  CloudFormation Template for creating an RDS DB Instance with customizable parameters.

Parameters:
  DBEngine:
    Type: String
    Description: "Select the database engine."
    AllowedValues:
      - mysql
      - postgres
    Default: mysql

  DBInstanceClass:
    Type: String
    Description: "Database instance class."
    Default: db.t1.micro

  AllocatedStorage:
    Type: Number
    Description: "Allocated storage in GB."
    Default: 8
    MinValue: 5
    MaxValue: 6144

  DBName:
    Type: String
    Description: "The name of the database to create."

  MasterUsername:
    Type: String
    Description: "The master username for the database."

  MasterUserPassword:
    Type: String
    Description: "The master password for the database."
    NoEcho: true

  DBSubnetGroupName:
    Type: String
    Description: "The name of an existing DB subnet group."

  VPCSecurityGroupIds:
    Type: List<AWS::EC2::SecurityGroup::Id>
    Description: "List of VPC security group IDs."

Resources:
  MyDBInstance:
    Type: AWS::RDS::DBInstance
    Properties:
      Engine: !Ref DBEngine
      DBInstanceClass: !Ref DBInstanceClass
      AllocatedStorage: !Ref AllocatedStorage
      DBName: !Ref DBName
      MasterUsername: !Ref MasterUsername
      MasterUserPassword: !Ref MasterUserPassword
      DBSubnetGroupName: !Ref DBSubnetGroupName
      VPCSecurityGroupIds: !Ref VPCSecurityGroupIds
      PubliclyAccessible: false
      BackupRetentionPeriod: 7
      DeletionProtection: true

Outputs:
  DBInstanceEndpoint:
    Description: "The database endpoint address."
    Value: !GetAtt MyDBInstance.Endpoint.Address
  DBInstanceId:
    Description: "The database instance ID."
    Value: !Ref MyDBInstance













